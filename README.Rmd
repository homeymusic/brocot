---
output: github_document
title: "brocot"
---

```{r, echo=F}
devtools::load_all(".")
```

![](man/figures/brocot_logo.png){ width=120px align=right }

`brocot` is an R package for exploring physics with coprime fractions.

```{r, echo=FALSE}
num_samples  = 501
num_bins     = 501
slit_width   = 17

dx           = slit_width/num_samples
min_x        = -slit_width / 2 + dx
max_x        =  slit_width / 2 - dx
x_real       = seq(from=min_x, to=max_x, by=dx)
sigma_x_lt   = x_real - min_x + dx
sigma_x_gt   = max_x - x_real + dx
x = coprimer::nearby_coprime(x_real, sigma_x_lt, sigma_x_gt)

sigma_p_lt   = 1 / sigma_x_lt
sigma_p_gt   = 1 / sigma_x_gt
p_real       = sigma_p_gt - sigma_p_lt
p = coprimer::nearby_coprime(p_real, sigma_p_lt, sigma_p_gt)
```

## Position vs Momentum

## Position vs Momentum

```{r, echo=FALSE}
plot_scatter(
  data = data.frame(x = x$approximation, p = p$approximation),
  x_col = "x",
  y_col = "p",
  title = "Position vs Momentum",
  x_label = "x",
  y_label = "p"
)

plot_scatter(
  data = data.frame(x = x$thomae, p = p$thomae),
  x_col = "x",
  y_col = "p",
  title = "Thomae Position vs Momentum",
  x_label = "x",
  y_label = "p"
)

plot_scatter(
  data = data.frame(x = x$euclids_orchard_height, p = p$euclids_orchard_height),
  x_col = "x",
  y_col = "p",
  title = "Euclid Position vs Momentum",
  x_label = "x",
  y_label = "p"
)

```

## Position

```{r, echo=FALSE}
# Generate plots for Position (x)
plot_histogram(x, num_bins, "approximation", "Histogram of Position", "Rational Number")
plot_segments(x, "approximation", "thomae", "Thomae's Function of Position", "Approximation", "Thomae")
plot_segments(x, "approximation", "euclids_orchard_height", "Euclid's Orchard of Position", "Approximation", "Redundancy")
plot_histogram(x, num_bins, "error", "Histogram of Position Errors", "Error")
plot_scatter(x, "approximation", "depth", "Stern-Brocot Depth vs. Position", "Approximation", "Depth")
```

## Momentum

```{r, echo=FALSE}
# Generate plots for Momentum (p)
plot_histogram(p, num_bins, "approximation", "Histogram of Momentum", "Rational Number")
plot_segments(p, "approximation", "thomae", "Thomae's Function of Momentum", "Approximation", "Thomae")
plot_segments(p, "approximation", "euclids_orchard_height", "Euclid's Orchard of Momentum", "Approximation", "Redundancy")
plot_histogram(p, num_bins, "error", "Histogram of Momentum Errors", "Error")
plot_scatter(p, "approximation", "depth", "Stern-Brocot Depth vs. Momentum", "Approximation", "Depth")
```